<html>
	<head>
		<title>Loading..</title>
		<link href="//fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" href="loading.css" />
	</head>
	<body>
		<div id="container">

			<div id="loadImgBg">
				<img id="loadImg" src="img/gmod-logo.png" class="spinner">
			</div>
			
			<div id="textContainer">
				<h1 id="phrases">hello.</h1>
				<h3 id="percentCompleted"></h3>
			</div>

		</div>

		<!-- Load libraries -->
		<!-- jQuery v2.1.0 -->
		<script type="text/javascript" src="js/thirdparty/jquery.js"></script>

		<!-- Load scripts -->
		<script type="text/javascript" src="js/phrases.js"></script>

		<!-- Show the user what percentage of files they have left to download -->
		<script type="text/javascript">

			var progressTextEnabled = true;
			var totalFiles = 1;
			var acquiredFiles = 1;

			/*
			  Called at the start

			  total- Total number of files the client will have to download.
			*/
			function SetFilesTotal(total) {
				if (total > 0) {
					totalFiles = total
					acquiredFiles = 0
				}
			}

			/*
			  Called when the number of files remaining for the client to download changes.

			  needed- Number of files left for the client to download.
			*/
			function SetFilesNeeded(needed) {
			  	// Don't do anything if we don't want to show progress.
				if (!progressTextEnabled) {
					return
				}

				// Generate a percentage of the files we still need to download
				acquiredFiles = totalFiles - needed
				var percentDone = (acquiredFiles / totalFiles) * 100
				percentDone = Math.floor(percentDone)

				if (percentDone >= 0 && percentDone <= 100) {
					// Insert the new % into our h2
					$('#percentCompleted').text(percentDone.toString() + '%')
				} else {
					var percentText = acquiredFiles + ' of ' + needed
					$('#percentCompleted').text(percentText)
				}
			}
		</script>
	</body>
</html>
